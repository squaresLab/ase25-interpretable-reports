 

int main() {
    struct Circuit circuit;
    circuit.num_nodes = 2;
    circuit.num_edges = 1;
    circuit.nodes[0].id = 0;
    circuit.nodes[0].voltage = 10.0;
    circuit.nodes[1].id = 1;
    circuit.nodes[1].voltage = 0.0;
    circuit.edges[0].id = 0;
    
    circuit.edges[0].source = get_node_by_id(&circuit, 0);
    if (circuit.edges[0].source == NULL) {
        fprintf(stderr, "Error: Source node not found!\n");
        exit(EXIT_FAILURE);
    }

    circuit.edges[0].destination = get_node_by_id(&circuit, 1);
    if (circuit.edges[0].destination == NULL) {
        fprintf(stderr, "Error: Destination node not found!\n");
        exit(EXIT_FAILURE);
    }

    circuit.edges[0].resistance = 10.0;

    printf("Initial circuit:\n");
    print_circuit(&circuit);

    // Simulate the circuit
    double current = (circuit.nodes[0].voltage - circuit.nodes[1].voltage) / circuit.edges[0].resistance;
    circuit.nodes[0].voltage -= current * circuit.edges[0].resistance;
    circuit.nodes[1].voltage += current * circuit.edges[0].resistance;

    printf("Final circuit:\n");
    print_circuit(&circuit);

    return 0;
}

