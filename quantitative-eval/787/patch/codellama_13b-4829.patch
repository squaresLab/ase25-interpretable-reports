

void updateGameState(GameState *state) {
    // Update the ships
    for (int i = 0; i < MAX_SHIPS; i++) {
-        state->ships[i].x += 1;
+        if (state->ships[i].x + 1 < WIDTH) {
+            state->ships[i].x += 1;
+        }
    }

    // Update the bullets
    for (int i = 0; i < MAX_BULLETS; i++) {
-        state->bullets[i].x += 1;
+        if (state->bullets[i].x + 1 < WIDTH) {
+            state->bullets[i].x += 1;
+        }
    }

    // Update the invaders
    for (int i = 0; i < MAX_INVADERS; i++) {
-        state->invaders[i].x += 1;
+        if (state->invaders[i].x + 1 < WIDTH) {
+            state->invaders[i].x += 1;
+        }
    }

    // Update the powerups
    for (int i = 0; i < MAX_POWERUPS; i++) {
-        state->powerups[i].x += 1;
+        if (state->powerups[i].x + 1 < WIDTH) {
+            state->powerups[i].x += 1;
+        }
    }
}

