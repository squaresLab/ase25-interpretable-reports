 

--- falcon180b-26756.c
+++ falcon180b-26756_fixed.c
@@ -22,6 +22,11 @@
        memset(buffer, 0, BUFFER_SIZE);
        int bytes_received = recv(client_socket, buffer, BUFFER_SIZE - 1, 0);

+       if (bytes_received < 0) {
+           printf("Receive failed\n");
+           close(client_socket);
+           return NULL;
+       }
+
        if (bytes_received <= 0) {
            break;
        }
+
+       buffer[bytes_received] = '\0';
        printf("Client %d sent: %s\n", client_socket, buffer);

        send(client_socket, buffer, strlen(buffer), 0);

