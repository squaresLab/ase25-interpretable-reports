 

--- falcon180b-30194.c
+++ falcon180b-30194-fixed.c
@@ -50,6 +50,7 @@
     while (1) {
         int client_socket = accept(server_socket, NULL, NULL);
 
+        int *client_sock_ptr = malloc(sizeof(int));
+        *client_sock_ptr = client_socket;
         if (client_socket != -1) {
             printf("Client %d connected\n", client_socket);
 
             pthread_t thread_id;
-            pthread_create(&thread_id, NULL, handle_client, (void *)&client_socket);
+            pthread_create(&thread_id, NULL, handle_client, (void *) client_sock_ptr);

             client_sockets[num_clients++] = client_socket;

