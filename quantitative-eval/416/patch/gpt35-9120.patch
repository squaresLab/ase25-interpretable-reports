 

diff --git a/gpt35-9120.c b/gpt35-9120.c
index d2a152..7a7d53 100644
--- a/gpt35-9120.c
+++ b/gpt35-9120.c
@@ -66,7 +66,12 @@ void *connection_handler(void *socket_ptr)
     char buffer[1024] = {0};
     char response[1024] = {0};

     // Receive message from client
     valread = read(socket, buffer, 1024);
     printf("Received message from client: %s\n", buffer);
 
+    if (valread < 0) {
+        perror("Failed to read from socket");
+        close(socket);
+        pthread_exit(NULL);
+    }
+
     // Generate response message
-    sprintf(response, "Greetings, Cyberpunk! Your message was %d bytes long.", valread);
+    snprintf(response, sizeof(response), "Greetings, Cyberpunk! Your message was %d bytes long.", valread);
     printf("Sending response message: %s\n", response);

     // Send response message to client
     pthread_mutex_lock(&mutex);
     write(socket, response, strlen(response));
     pthread_mutex_unlock(&mutex);

