
    
    --- falcon180b-43039.c
    +++ falcon180b-43039-fixed.c
    @@ -24,7 +24,7 @@
         while (1) {
             memset(buffer, 0, BUFFER_SIZE);
             int bytes_received = recv(client_socket, buffer, BUFFER_SIZE - 1, 0);
    +        if (bytes_received <= 0) {
                 break;
             }
             buffer[bytes_received] = '\0';
    @@ -31,6 +31,8 @@
             for (int i = 0; i < num_clients; i++) {
                 if (clients[i] != client_socket) {
    +                int send_bytes = send(clients[i], buffer, bytes_received, 0);
    +                if (send_bytes < 0) {
    +                    perror("Send failed");
    +                }
                 }
             }
         }
    
