 

diff --git a/falcon180b-15880 b/falcon180b-15880
index e69de29..b7b2dc1 100644
--- a/falcon180b-15880
+++ b/falcon180b-15880
@@ -44,6 +44,8 @@ void *handle_client(void *arg) {
 
     close(client_socket);
 
+    pthread_mutex_lock(&clients_mutex);
+    clients[client_socket] = -1; // mark socket as closed
+    pthread_mutex_unlock(&clients_mutex);
+
     return NULL;
 }
 
 int main() {
     int server_socket = socket(AF_INET, SOCK_STREAM, 0);
     struct sockaddr_in server_addr;
 
     memset(&server_addr, 0, sizeof(server_addr));
     server_addr.sin_family = AF_INET;
     server_addr.sin_port = htons(PORT);
     server_addr.sin_addr.s_addr = INADDR_ANY;
 
     bind(server_socket, (struct sockaddr *) &server_addr, sizeof(server_addr));
     listen(server_socket, MAX_CLIENTS);
 
     printf("Server is listening on port %d\n", PORT);
 
     while (1) {
         int client_socket = accept(server_socket, NULL, NULL);
 
         if (client_count >= MAX_CLIENTS) {
             close(client_socket);
             printf("Server is full. Cannot accept more clients.\n");
             continue;
         }
 
         clients[client_count] = client_socket;
         client_count++;
 
         pthread_t thread_id;
         pthread_create(&thread_id, NULL, handle_client, (void *) &client_socket);
     }
 
     return 0;
 }

