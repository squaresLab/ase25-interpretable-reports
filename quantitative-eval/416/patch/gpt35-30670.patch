 
    
    --- gpt35-30670.c
    +++ gpt35-30670-fixed.c
    @@ -68,7 +68,11 @@
         while ((read_size = recv(sock, buffer, BUFF_SIZE, 0)) > 0) {
             //add null terminator to end of message
             buffer[read_size] = '\0';
    +        
    +        if (read_size < 0) {
    +            perror("recv failed");
    +            break;
    +        }

             //check if client wants to exit
             if (strncmp(buffer, "bye", 3) == 0) {
                 message = "Goodbye!\n";
    @@ -79,8 +83,10 @@
             }

             //print message from client to server console
             printf("Client: %s", buffer);

             //send message back to client
    -        write(sock, buffer, strlen(buffer));
    +        if (write(sock, buffer, strlen(buffer)) < 0) {
    +            perror("write failed");
    +            break;
    +        }
         }
 
         if (read_size == 0) {
    
    