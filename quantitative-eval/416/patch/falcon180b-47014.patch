 

--- falcon180b-47014.c
+++ falcon180b-47014.c
@@ -20,10 +20,13 @@
     while (1) {
         memset(buffer, 0, BUF_SIZE);
         int bytes_received = recv(sock, buffer, BUF_SIZE - 1, 0);
+        if (bytes_received < 0) {
+            perror("recv failed");
+            break;
+        } 
         if (bytes_received == 0) {
             break;
         }
-        buffer[bytes_received] = '\0';
         broadcast(sock, buffer);
     }

