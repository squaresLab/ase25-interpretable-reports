 

--- falcon180b-32098
+++ falcon180b-32098
@@ -15,9 +15,13 @@
 void *handle_client(void *arg) {
     int client_socket = *(int *) arg;
     char buffer[BUFFER_SIZE];

+    int bytes_received;
     while (1) {
         memset(buffer, 0, BUFFER_SIZE);
-        int bytes_received = recv(client_socket, buffer, BUFFER_SIZE, 0);
+        bytes_received = recv(client_socket, buffer, BUFFER_SIZE - 1, 0);
+
+        if (bytes_received < 0) {
+            break;
+        }

         buffer[bytes_received] = '\0'; // Null-terminate the buffer

         if (bytes_received <= 0) {
