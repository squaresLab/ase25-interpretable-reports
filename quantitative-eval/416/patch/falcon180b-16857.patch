
    
    --- falcon180b-16857    2023-10
    +++ falcon180b-16857    2023-10
    @@ -23,10 +23,15 @@
         int client_socket = *(int *) arg;
         char buffer[BUFFER_SIZE];
         while (1) {
    -        memset(buffer, 0, BUFFER_SIZE);
    +        memset(buffer, 0, sizeof(buffer));
             int bytes_received = recv(client_socket, buffer, BUFFER_SIZE, 0);
             if (bytes_received <= 0) {
                 close(client_socket);
                 break;
             }
    -        printf("Client %d sent: %s\n", client_socket, buffer);
    -        send(client_socket, buffer, strlen(buffer), 0);
    +        buffer[bytes_received] = '\0'; // Null-terminate the received data
    +        if (bytes_received < BUFFER_SIZE) {
    +            printf("Client %d sent: %s\n", client_socket, buffer);
    +            send(client_socket, buffer, bytes_received, 0);
    +        } else {
    +            // Handle case when buffer is completely filled 
    +            printf("Warning: Message from client %d is too large and has been truncated.\n", client_socket);
    +            send(client_socket, "Input is too large", 18, 0);
    +        }
         }
    
