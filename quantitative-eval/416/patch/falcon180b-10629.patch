 

--- falcon180b-10629.c
+++ falcon180b-10629-fixed.c
@@ -12,7 +12,15 @@
 {
     int client_socket = *(int *) arg;
     char buffer[BUFFER_SIZE];
+    char safe_buffer[BUFFER_SIZE + 50]; // Extra space for fixed formatting

     while (1) {
         memset(buffer, 0, BUFFER_SIZE);
         int bytes_received = recv(client_socket, buffer, BUFFER_SIZE, 0);
         if (bytes_received <= 0) {
             break;
         }
-        printf("Client %d sent message: %s\n", client_socket, buffer);
+        snprintf(safe_buffer, sizeof(safe_buffer), "Client %d sent message: %s\n", client_socket, buffer);
+        fputs(safe_buffer, stdout);
         send(client_socket, buffer, strlen(buffer), 0);
     }

