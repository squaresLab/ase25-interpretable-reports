 

--- old_falcon180b-31632.c
+++ new_falcon180b-31632.c
@@ -9,13 +9,14 @@
 #define MAX_CLIENTS 10
 #define PORT 8080
 
-void *handle_client(void *arg) {
+void *handle_client(void *arg) {
     int client_socket = *(int *)arg;
     char buffer[1024];
     while(1) {
         memset(buffer, 0, sizeof(buffer));
         int bytes_received = recv(client_socket, buffer, sizeof(buffer), 0);
-        if(bytes_received <= 0) {
+        if(bytes_received <= 0) {
             break;
         }
         char *message = strtok(buffer, " ");
         while(message != NULL) {
+            if (strlen(message) > 1024 - 1) {
+                printf("Received message too long\n");
+                break;
+            }
             send(client_socket, message, strlen(message), 0);
             message = strtok(NULL, " ");
         }

