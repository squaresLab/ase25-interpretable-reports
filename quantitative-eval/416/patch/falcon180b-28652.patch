

--- falcon180b-28652.c
+++ falcon180b-28652-fixed.c
@@ -15,6 +15,7 @@
 
 void* handle_client(void* arg) {
     int client_socket = *(int*) arg;
+    ssize_t bytes_received;
     char buffer[BUFFER_SIZE];
     while (1) {
         memset(buffer, 0, BUFFER_SIZE);
-        int bytes_received = recv(client_socket, buffer, BUFFER_SIZE, 0);
+        bytes_received = recv(client_socket, buffer, BUFFER_SIZE - 1, 0);
         if (bytes_received <= 0) {
             break;
         }
         buffer[bytes_received] = '\0';
         printf("Client %d sent: %s\n", client_socket, buffer);

