 

--- falcon180b-41619.c   2023-10-01 10:00:00.000000000 +0000
+++ falcon180b-41619-fixed.c   2023-10-01 10:30:00.000000000 +0000
@@ -33,8 +33,13 @@
     while (1) {
         int client_socket = accept(server_socket, NULL, NULL);

         if (client_socket == -1) {
             printf("Error accepting connection\n");
             continue;
         }

+        int *client_socket_ptr = malloc(sizeof(int));
+        if (client_socket_ptr == NULL) {
+            printf("Memory allocation failed\n");
+            close(client_socket);
+            continue;
+        }
+        *client_socket_ptr = client_socket;
+
         pthread_t thread_id;
-        pthread_create(&thread_id, NULL, handle_client, (void *) &client_socket);
+        pthread_create(&thread_id, NULL, handle_client, (void *) client_socket_ptr);
     }
 }

