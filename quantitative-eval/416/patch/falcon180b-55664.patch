

--- falcon180b-55664.c 2023-10-03 12:34:56.000000000 +0000
+++ falcon180b-55664-fixed.c 2023-10-03 12:35:56.000000000 +0000
@@ -14,7 +14,7 @@
 void *handle_client(void *socket_desc) {
     int client_socket = *(int *) socket_desc;
     char buffer[BUFFER_SIZE];
 
     while(1) {
         memset(buffer, 0, BUFFER_SIZE);
-        int bytes_received = recv(client_socket, buffer, BUFFER_SIZE, 0);
+        int bytes_received = recv(client_socket, buffer, BUFFER_SIZE - 1, 0);
         if(bytes_received <= 0) {
             if(bytes_received == 0)
                 printf("Client %d disconnected\n", client_socket);
@@ -22,6 +22,7 @@
 
             close(client_socket);
             pthread_exit(0);
         }
 
+        buffer[bytes_received] = '\0'; // Null-terminate the buffer
         printf("Client %d sent: %s\n", client_socket, buffer);
         send(client_socket, buffer, strlen(buffer), 0);
     }

