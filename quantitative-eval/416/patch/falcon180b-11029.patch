 

--- falcon180b-11029.c
+++ falcon180b-11029_fixed.c
@@ -23,7 +23,11 @@
     server_addr.sin_addr.s_addr = INADDR_ANY;
 
     if (bind(server_socket, (struct sockaddr *) &server_addr, sizeof(server_addr)) < 0) {
+        perror("Bind failed");
+        exit(EXIT_FAILURE);
     }
 
     if (listen(server_socket, BACKLOG) < 0) {
+        perror("Listen failed");
+        exit(EXIT_FAILURE);
     }
 
@@ -53,7 +57,11 @@
         memset(request, 0, MAX_REQUEST_SIZE);
         int bytes_received = recv(client_socket, request, MAX_REQUEST_SIZE, 0);
 
+        if (bytes_received < 0) {
+            perror("Receive failed");
+            close(client_socket);
+            pthread_exit(NULL);
         }
 
         printf("Client %d sent request: %s\n", client_socket, request);
 
@@ -60,7 +68,11 @@
     close(client_socket);
     return NULL;
 }
 
@@ -74,7 +88,12 @@
         }
 
         pthread_t thread_id;
-        pthread_create(&thread_id, NULL, handle_client, (void *) &client_socket);
+        if (pthread_create(&thread_id, NULL, handle_client, (void *) &client_socket) != 0) {
+            perror("Thread creation failed");
+            close(client_socket);
+        } else {
+            pthread_detach(thread_id);
+        }
     }
 }

