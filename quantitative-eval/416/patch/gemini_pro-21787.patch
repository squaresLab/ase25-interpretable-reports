 

--- gemini_pro-21787.c
+++ gemini_pro-21787-fixed.c
@@ -40,7 +40,7 @@
            // Check if the client is already registered
            pthread_mutex_lock(&clients_mutex);
            int i;
            for (i = 0; i < MAX_CLIENTS; i++) {
                if (clients[i].fd == fd) {
-                   strcpy(clients[i].name, name);
+                   strncpy(clients[i].name, name, sizeof(clients[i].name) - 1);
+                   clients[i].name[sizeof(clients[i].name) - 1] = '\0'; // Ensure null-termination
                    break;
                }
            }
            pthread_mutex_unlock(&clients_mutex);


