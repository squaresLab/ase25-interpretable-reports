

 int client_socket = *(int *) arg;
 char buffer[1024];
 while (1) {
     memset(buffer, 0, sizeof(buffer));
-    int bytes_received = recv(client_socket, buffer, sizeof(buffer), 0);
+    int bytes_received = recv(client_socket, buffer, sizeof(buffer) - 1, 0);
     if (bytes_received <= 0) {
         close(client_socket);
         return NULL;
     }
+    buffer[bytes_received] = '\0'; // Null-terminate the buffer
     printf("Client %d sent: %s\n", client_socket, buffer);
 }


