
    
    --- old_falcon180b-14726.c
    +++ new_falcon180b-14726.c
    @@ -26,7 +26,8 @@
            socklen_t client_len = sizeof(client_addr);
            int client_socket = accept(server_socket, (struct sockaddr *) &client_addr, &client_len);

            if (client_socket < 0) {
                printf("Error accepting connection\n");
                continue;
            }
    
            pthread_t thread_id;
    -        pthread_create(&thread_id, NULL, handle_client, (void *) &client_socket);
    +        int *client_socket_ptr = malloc(sizeof(int));
    +        *client_socket_ptr = client_socket;
    +        pthread_create(&thread_id, NULL, handle_client, (void *) client_socket_ptr);
        }
    }

    void *handle_client(void *arg) {
        int client_socket = *(int *) arg;
        free(arg);
        char buffer[BUFFER_SIZE];
    
    