

--- falcon180b-42863.c 2023-10-01 16:01:23.000000000 +0000
+++ falcon180b-42863-fixed.c 2023-10-01 16:02:23.000000000 +0000
@@ -23,7 +23,14 @@
     while (1) {
         memset(buffer, 0, BUFFER_SIZE);
         int bytes_received = recv(client_socket, buffer, BUFFER_SIZE, 0);
-        if (bytes_received <= 0) {
+        if (bytes_received <= 0 || bytes_received >= BUFFER_SIZE) {
             break;
         }
+        buffer[bytes_received] = '\0';  // Ensure null-termination
+
+        // Security improvement: Log the number of bytes received
+        printf("Client %d sent (%d bytes): %s\n", client_socket, bytes_received, buffer);
+
+        // Send data to other clients
         for (int i = 0; i < num_clients; i++) {
             if (clients[i] != client_socket) {
                 send(clients[i], buffer, strlen(buffer), 0);

